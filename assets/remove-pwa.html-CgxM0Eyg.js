import{_ as r,c as o,a as s,b as i,e as a,w as p,d as h,r as t,o as d}from"./app-BLX--KpT.js";const c={},k={class:"hint-container tip"};function m(u,e){const n=t("NpmBadge"),l=t("RouteLink");return d(),o("div",null,[e[7]||(e[7]=s("h1",{id:"remove-pwa",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#remove-pwa"},[s("span",null,"remove-pwa")])],-1)),i(n,{package:"@vuepress/plugin-remove-pwa"}),e[8]||(e[8]=s("p",null,"This plugin removes service workers from your VuePress site, ensuring users can receive updates after you remove any previously enabled PWA plugin.",-1)),s("div",k,[e[3]||(e[3]=s("p",{class:"hint-container-title"},"Why this plugin is needed if you used PWA plugin once?",-1)),s("p",null,[e[1]||(e[1]=a("PWA plugins like ",-1)),i(l,{to:"/plugins/pwa/pwa/"},{default:p(()=>[...e[0]||(e[0]=[s("code",null,"@vuepress/plugin-pwa",-1)])]),_:1}),e[2]||(e[2]=a(" register service workers that cache your site for offline access.",-1))]),e[4]||(e[4]=s("p",null,"If you remove a PWA plugin, the old service worker remains but can't receive updates as there's no new service worker to update to. Users will be stuck with the old version of your site.",-1)),e[5]||(e[5]=s("p",null,"To solve this problem:",-1)),e[6]||(e[6]=s("ol",null,[s("li",null,"A new empty service worker is generated in the original location."),s("li",null,"This service worker removes cached content from the old service worker, then unregisters itself.")],-1))]),e[9]||(e[9]=h(`<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> i</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -D</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> @vuepress/plugin-remove-pwa@next</span></span></code></pre></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title=".vuepress/config.ts"><span>.vuepress/config.ts</span></div><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">removePwaPlugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;@vuepress/plugin-remove-pwa&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  plugins</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    removePwaPlugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // By default, all caches will be removed</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // To target specific caches, provide regex patterns</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      cachePatterns</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bworkbox</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">b&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;precache-v2&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      swLocation</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;service-worker.js&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ],</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>Options</span></a></h2><h3 id="cachepatterns" tabindex="-1"><a class="header-anchor" href="#cachepatterns"><span>cachePatterns</span></a></h3><ul><li>Type: <code>string[]</code></li><li>Default: <code>[]</code></li><li>Details: Regular expression patterns to match cache names for removal. If empty, all caches will be removed.</li></ul><h3 id="swlocation" tabindex="-1"><a class="header-anchor" href="#swlocation"><span>swLocation</span></a></h3><ul><li>Type: <code>string</code></li><li>Default: <code>&#39;service-worker.js&#39;</code></li><li>Details: Original service worker location relative to dest folder.</li></ul>`,8))])}const v=r(c,[["render",m]]),y=JSON.parse('{"path":"/plugins/pwa/remove-pwa.html","title":"remove-pwa","lang":"en-US","frontmatter":{"icon":"trash-2","description":"remove-pwa","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"remove-pwa\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-06-05T09:17:33.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://ecosystem.vuejs.press/ecosystem/plugins/pwa/remove-pwa.html"}],["meta",{"property":"og:site_name","content":"VuePress Ecosystem"}],["meta",{"property":"og:title","content":"remove-pwa"}],["meta",{"property":"og:description","content":"remove-pwa"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-05T09:17:33.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-05T09:17:33.000Z"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://ecosystem.vuejs.press/ecosystem/zh/plugins/pwa/remove-pwa.html"}],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://ecosystem.vuejs.press/ecosystem/atom.xml","title":"VuePress Ecosystem Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://ecosystem.vuejs.press/ecosystem/feed.json","title":"VuePress Ecosystem JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://ecosystem.vuejs.press/ecosystem/rss.xml","title":"VuePress Ecosystem RSS Feed"}]]},"git":{"updatedTime":1749115053000,"contributors":[{"name":"Mister-Hope","username":"Mister-Hope","email":"mister-hope@outlook.com","commits":7,"avatar":"https://avatars.githubusercontent.com/Mister-Hope?v=4","url":"https://github.com/Mister-Hope"}],"changelog":[{"hash":"a7e8a1a788e44d4da5de2f5a9b6b4443d996acdb","time":1749115053000,"email":"mister-hope@outlook.com","author":"Mister-Hope","message":"feat(plugin-remove-pwa): improve cache handling (#531)"},{"hash":"a13d5abfbb964e7b748cd3f06b28ee0f7d32f35c","time":1744484638000,"email":"mister-hope@outlook.com","author":"Mister-Hope","message":"docs: improve code block title"},{"hash":"ae96c427eeb664c8d361963d1815a68386856bbe","time":1736532474000,"email":"mister-hope@outlook.com","author":"Mister-Hope","message":"docs: add icons to docs (#332)"},{"hash":"abd787c6f128028703d28a7bc8128bb1d4ab92f4","time":1716961207000,"email":"mister-hope@outlook.com","author":"Mister-Hope","message":"chore: update repo structure (#159)"},{"hash":"3a6e00bd1e63ab69485ea996c603bb802d8baaa1","time":1708397875000,"email":"mister-hope@outlook.com","author":"Mister-Hope","message":"chore: unify PWA to Pwa"},{"hash":"967de28dd41460e25c756acc7d198b7ed477ecd8","time":1707223547000,"email":"mister-hope@outlook.com","author":"Mister-Hope","message":"docs: update docs"},{"hash":"58b7e32fcbdc5a55718fc79fc81b08d7365ebf1c","time":1706931533000,"email":"mister-hope@outlook.com","author":"Mister-Hope","message":"feat(plugin-remove-pwa): add remove pwa plugin (#54)"}]},"autoDesc":true,"filePathRelative":"plugins/pwa/remove-pwa.md"}');export{v as comp,y as data};
